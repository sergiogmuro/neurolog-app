@tailwind base;
@tailwind components;
@tailwind utilities;

/* NeuroLog Design System - Emotional wellness app with beautiful gradients */

@layer base {
    :root {
        /* Core gradient colors matching the warm blue-to-coral design */
        --gradient-start: 221 83% 15%; /* Deep blue */
        --gradient-middle: 261 63% 35%; /* Purple */
        --gradient-end: 15 100% 65%; /* Coral/orange */

        /* Text colors for gradient backgrounds */
        --text-on-gradient: 0 0% 100%; /* White text */
        --text-muted-gradient: 0 0% 90%; /* Slightly muted white */

        /* Background system */
        --background: 221 83% 15%;
        --foreground: 0 0% 100%;

        /* Card system with warm transparency */
        --card: 0 0% 100% / 0.12;
        --card-foreground: 0 0% 100%;

        --popover: 221 100% 20%;
        --popover-foreground: 0 0% 100%;

        /* Primary colors - warm coral for CTAs */
        --primary: 15 100% 70%;
        --primary-foreground: 0 0% 100%;

        /* Secondary colors for glass-morphism cards */
        --secondary: 0 0% 100% / 0.18;
        --secondary-foreground: 0 0% 100%;

        /* Muted colors for subtle text */
        --muted: 0 0% 100% / 0.12;
        --muted-foreground: 0 0% 90%;

        /* Accent for highlights and interactive elements */
        --accent: 35 100% 75%;
        --accent-foreground: 0 0% 100%;

        /* Destructive for errors */
        --destructive: 0 84% 60%;
        --destructive-foreground: 0 0% 100%;

        /* Borders and inputs with warm transparency */
        --border: 0 0% 100% / 0.25;
        --input: 0 0% 100% / 0.15;
        --ring: 15 100% 70%;

        --radius: 1.5rem;

        /* Custom gradient backgrounds - smooth blue to coral transition */
        --gradient-cosmic: linear-gradient(180deg, hsl(var(--gradient-start)) 0%, hsl(var(--gradient-middle)) 50%, hsl(var(--gradient-end)) 100%);
        --gradient-card: linear-gradient(135deg, hsl(0 0% 100% / 0.2), hsl(0 0% 100% / 0.08));
        --gradient-card-navigation: linear-gradient(135deg, hsl(0deg 21.21% 12.61% / 73%), hsl(0deg 91.43% 11.58% / 69%));

        /* Animation variables */
        --animation-duration: 0.3s;
        --animation-ease: cubic-bezier(0.4, 0, 0.2, 1);

        --sidebar-background: 0 0% 98%;

        --sidebar-foreground: 240 5.3% 26.1%;

        --sidebar-primary: 240 5.9% 10%;

        --sidebar-primary-foreground: 0 0% 98%;

        --sidebar-accent: 240 4.8% 95.9%;

        --sidebar-accent-foreground: 240 5.9% 10%;

        --sidebar-border: 220 13% 91%;

        --sidebar-ring: 217.2 91.2% 59.8%;
    }

    .dark {
        --background: 222.2 84% 4.9%;
        --foreground: 210 40% 98%;

        --card: 222.2 84% 4.9%;
        --card-foreground: 210 40% 98%;

        --popover: 222.2 84% 4.9%;
        --popover-foreground: 210 40% 98%;

        --primary: 210 40% 98%;
        --primary-foreground: 222.2 47.4% 11.2%;

        --secondary: 217.2 32.6% 17.5%;
        --secondary-foreground: 210 40% 98%;

        --muted: 217.2 32.6% 17.5%;
        --muted-foreground: 215 20.2% 65.1%;

        --accent: 217.2 32.6% 17.5%;
        --accent-foreground: 210 40% 98%;

        --destructive: 0 62.8% 30.6%;
        --destructive-foreground: 210 40% 98%;

        --border: 217.2 32.6% 17.5%;
        --input: 217.2 32.6% 17.5%;
        --ring: 212.7 26.8% 83.9%;
        --sidebar-background: 240 5.9% 10%;
        --sidebar-foreground: 240 4.8% 95.9%;
        --sidebar-primary: 224.3 76.3% 48%;
        --sidebar-primary-foreground: 0 0% 100%;
        --sidebar-accent: 240 3.7% 15.9%;
        --sidebar-accent-foreground: 240 4.8% 95.9%;
        --sidebar-border: 240 3.7% 15.9%;
        --sidebar-ring: 217.2 91.2% 59.8%;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    html {
        background-color: var(--gradient-start);
    }
    body {
        @apply text-foreground;
        background: var(--gradient-cosmic);
        min-height: 100vh;
        overflow-x: hidden;
        transition: background 1s ease-in-out;
    }

    /* Ambient background mode for music playback */
    body.music-ambient {
        background:
                radial-gradient(circle at 20% 80%, hsl(var(--primary) / 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, hsl(var(--secondary) / 0.12) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, hsl(var(--accent) / 0.08) 0%, transparent 50%),
                var(--gradient-cosmic);
        animation: ambient-breathe 8s ease-in-out infinite alternate;
        overflow: hidden;
        height: 100vh;
        position: fixed;
        inset: 0;
    }

}

@layer components {
    /* Cosmic background with floating particles */
    .cosmic-bg {
        position: relative;
        background: var(--gradient-cosmic);
        min-height: 100vh;
    }

    .cosmic-bg::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image:
                radial-gradient(2px 2px at 20px 30px, hsl(0 0% 100% / 0.8), transparent),
                radial-gradient(2px 2px at 40px 70px, hsl(0 0% 100% / 0.6), transparent),
                radial-gradient(1px 1px at 90px 40px, hsl(0 0% 100% / 0.8), transparent),
                radial-gradient(1px 1px at 130px 80px, hsl(0 0% 100% / 0.6), transparent),
                radial-gradient(2px 2px at 160px 30px, hsl(0 0% 100% / 0.8), transparent);
        background-repeat: repeat;
        background-size: 200px 100px;
        animation: twinkle 3s ease-in-out infinite alternate;
        pointer-events: none;
    }

    @keyframes twinkle {
        0% { opacity: 0.3; }
        100% { opacity: 1; }
    }

    /* Glass morphism card style */
    .glass-card {
        background: var(--gradient-card);
        backdrop-filter: blur(20px);
        border: 1px solid hsl(var(--border));
        box-shadow: 0 8px 32px hsl(0 0% 0% / 0.1);
    }

    .glass-card-navigation {
        background: var(--gradient-card-navigation);
        backdrop-filter: blur(20px);
        border: 1px solid hsl(var(--border));
        box-shadow: 0 8px 32px hsl(0 0% 0% / 0.1);
    }

    .button-primary {
        font-size: 1.5em !important;
        height: 50px !important;
    }

    /* Enhanced mood selector styling */
    .mood-button {
        @apply w-16 h-16 rounded-full flex items-center justify-center text-2xl;
        @apply transition-all duration-300 ease-out shadow-lg;
        @apply hover:scale-105 hover:shadow-xl;
    }

    .mood-button.selected {
        @apply scale-110 shadow-xl;
        @apply ring-4 ring-white/40;
    }

    /* Enhanced button styling */
    .register-button {
        @apply w-full rounded-full font-semibold py-4 text-lg;
        @apply transition-all duration-300 ease-out;
        @apply shadow-lg hover:shadow-xl hover:scale-[1.02];
        background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent)));
    }
}

/* Relaxing light effects for music player */
.playing-ambient {
    background: linear-gradient(
            135deg,
            hsl(15deg 66.95% 20.9% / 59%) 0% 0%,
            hsl(51.1deg 100% 70% / 73%) 100%
    );
    position: fixed;
    inset: 0;
    width: 100vw;
    height: 100vh;
    opacity: 0;
    display: block;
    transition: opacity 400ms ease;
    z-index: 1; /* detr√°s del contenido */
    pointer-events: none;
}

.playing-ambient.active {
    opacity: 1;
    pointer-events: inherit;
}

.relaxing-lights-1 {
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, hsl(var(--primary) / 0.1) 0%, transparent 70%);
    animation: float-1 12s ease-in-out infinite;
}

.relaxing-lights-2 {
    position: absolute;
    top: -30%;
    right: -30%;
    width: 150%;
    height: 150%;
    background: radial-gradient(circle, hsl(var(--secondary) / 0.08) 0%, transparent 60%);
    animation: float-2 15s ease-in-out infinite reverse;
}

.relaxing-lights-3 {
    position: absolute;
    bottom: -40%;
    left: -40%;
    width: 180%;
    height: 180%;
    background: radial-gradient(circle, hsl(var(--accent) / 0.06) 0%, transparent 65%);
    animation: float-3 18s ease-in-out infinite;
}

@keyframes float-1 {
    0%, 100% { transform: translate(0, 0) rotate(0deg); opacity: 0.3; }
    33% { transform: translate(30px, -30px) rotate(120deg); opacity: 0.6; }
    66% { transform: translate(-20px, 20px) rotate(240deg); opacity: 0.4; }
}

@keyframes float-2 {
    0%, 100% { transform: translate(0, 0) rotate(0deg); opacity: 0.2; }
    50% { transform: translate(-40px, 30px) rotate(180deg); opacity: 0.5; }
}

@keyframes float-3 {
    0%, 100% { transform: translate(0, 0) rotate(0deg); opacity: 0.25; }
    25% { transform: translate(20px, -40px) rotate(90deg); opacity: 0.4; }
    75% { transform: translate(-30px, -20px) rotate(270deg); opacity: 0.3; }
}

@keyframes phraseFadeCycle {
    0%   { opacity: 0; transform: translateY(8px) scale(0.98); }
    12%  { opacity: 1; transform: translateY(0)    scale(1);    } /* fade-in */
    88%  { opacity: 1; transform: translateY(0)    scale(1);    } /* hold */
    100% { opacity: 0; transform: translateY(-6px) scale(0.98); } /* fade-out */
}

.phrase-animation {
    animation: phraseFadeCycle 15s ease-in-out both;
}

/* Accesibilidad opcional */
@media (prefers-reduced-motion: reduce) {
    .phrase-animation {
        animation: none;
    }
}

/* Global ambient breathing effect */
@keyframes ambient-breathe {
    0% {
        background-size: 100% 100%, 100% 100%, 100% 100%, 100% 100%;
        filter: brightness(1) saturate(1) hue-rotate(0deg);
    }
    100% {
        background-size: 120% 120%, 150% 120%, 100% 120%, 100% 100%;
        filter: brightness(1.1) saturate(1.2) hue-rotate(-10deg);
    }
}

/* Floating ambient particles for full background */
body.music-ambient::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
            radial-gradient(3px 3px at 15% 25%, hsl(var(--primary) / 0.4), transparent),
            radial-gradient(2px 2px at 85% 75%, hsl(var(--secondary) / 0.3), transparent),
            radial-gradient(2px 2px at 45% 85%, hsl(var(--accent) / 0.3), transparent),
            radial-gradient(1px 1px at 75% 15%, hsl(var(--primary) / 0.5), transparent),
            radial-gradient(2px 2px at 25% 65%, hsl(var(--secondary) / 0.4), transparent);
    background-repeat: repeat;
    background-size: 300px 200px;
    animation: ambient-float 1s ease-in-out infinite alternate;
    pointer-events: none;
    z-index: -1;
}

.music-ambient-wrapper {
    display: flex;
    align-content: space-between;
    flex-flow: column;
    justify-content: space-between;
    height: 90%;
}

@keyframes ambient-float {
    0% {
        opacity: 0.6;
        transform: translateY(0px) rotate(0deg);
    }
    100% {
        opacity: 1;
        transform: translateY(-20px) rotate(5deg);
    }
}

